(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,a){},171:function(e,t,a){},180:function(e,t,a){e.exports=a.p+"static/media/arrow.cefc206c.svg"},181:function(e,t,a){e.exports=a.p+"static/media/category.92509915.svg"},183:function(e,t,a){e.exports=a(413)},410:function(e,t,a){},411:function(e,t,a){},412:function(e,t,a){},413:function(e,t,a){"use strict";a.r(t);var n=a(5),o=a(6),r=a(8),i=a(7),c=a(9),s=a(0),l=a.n(s),p=a(17),u=a.n(p),d=a(84),m=a(3),h=a(13),g=a(24),f=a.n(g),y=a(415),b=a(11);function E(e){return{type:"SET_ACTION",payload:e}}function v(e){return{type:"SET_SELECTED_CATEGORY",payload:e}}function C(e){return{type:"SET_SELECTED_LOCATION",payload:e}}function O(e){return{type:"SET_VIEW_MODE",payload:e}}function _(e){return{type:"UPDATE_LOCATION_INPUT",payload:e}}function N(e){return{type:"SET_LOCATION_DIALOG_STATE",payload:e}}function j(e){return{type:"SET_CATEGORY_DIALOG_STATE",payload:e}}var A=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).handleLocationClick=a.handleLocationClick.bind(Object(m.a)(a)),a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"handleLocationClick",value:function(){this.props.setSelectedLocation(this.props.name),""!==this.props.action?(this.props.setSelectedCategory(this.props.category),"REMOVE"===this.props.action&&this.props.removeLocation(this.props.name)):(y.a.vibrate(500),this.props.setAction("VIEW"))}},{key:"render",value:function(){return l.a.createElement("h6",{className:"category-item-location ".concat(this.props.color," \n            ").concat(this.props.is_location_dialog_open?"":"EDIT"===this.props.action?"shaking edit":"REMOVE"===this.props.action?"shaking remove":""),onClick:this.handleLocationClick},this.props.name)}}]),t}(s.Component),k=Object(b.b)(function(e){return{action:e.operator.action,is_location_dialog_open:e.data.is_location_dialog_open}},function(e){return{setAction:function(t){return e(E(t))},removeLocation:function(t){return e(function(e){return{type:"REMOVE_LOCATION",payload:e}}(t))},setSelectedLocation:function(t){return e(C(t))},setSelectedCategory:function(t){return e(v(t))}}})(A),R=a(74),T=a.n(R),S=a(75),L=a.n(S),D=a(4),w=a(177),I=a.n(w),F=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(m.a)(a)),a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t=Object(D.a)({},this.props.input_location);t.address=e.address,t.lat=e.position.lat,t.lng=e.position.lng,this.props.updateLocationInput(t),this.props.updateCoords()}},{key:"render",value:function(){return l.a.createElement(I.a,{containerElement:l.a.createElement("div",{style:{height:"100%"}}),mapElement:l.a.createElement("div",{style:{maxWidth:"450px",height:"173px"}}),defaultPosition:{lat:null==this.props.input_location.lat?25.761681:this.props.input_location.lat,lng:null==this.props.input_location.lng?-80.191788:this.props.input_location.lng},onChange:this.handleChange})}}]),t}(s.Component),M=Object(b.b)(function(e){return{input_location:e.data.input_location}},function(e){return{updateLocationInput:function(t){return e(_(t))}}})(F),x=(a(116),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).inputRefs={category:l.a.createRef(),name:l.a.createRef(),address:l.a.createRef(),lat:l.a.createRef(),lng:l.a.createRef()},a.formContainerRef=l.a.createRef(),a.formAddressContainerRef=l.a.createRef(),a.formSubmitRef=l.a.createRef(),a.fillControlledElements=a.fillControlledElements.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.handleSelect=a.handleSelect.bind(Object(m.a)(a)),a.setCoords=a.setCoords.bind(Object(m.a)(a)),a.updateCoords=a.updateCoords.bind(Object(m.a)(a)),a.getLocationInputs=a.getLocationInputs.bind(Object(m.a)(a)),a.getGeoCodeFromPlaceId=a.getGeoCodeFromPlaceId.bind(Object(m.a)(a)),a.formFilled=!1,a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){"EDIT"===this.props.action&&(this.fillControlledElements(),this.formSubmitRef.current.classList.remove("inactive")),this.props.setLocationDialogState(!0)}},{key:"componentDidUpdate",value:function(){var e=this.getLocationInputs();this.formFilled=0===Object.keys(e).filter(function(t){return!e[t]||0===e[t].length}).length,this.formFilled?this.formSubmitRef.current.classList.remove("inactive"):this.formSubmitRef.current.classList.add("inactive")}},{key:"fillControlledElements",value:function(){var e=this,t=this.props.categories_data.find(function(t){return t.name===e.props.selected_category}).locations[this.props.selected_location];this.inputRefs.name.current.value=this.props.selected_location,Object.keys(this.inputRefs).forEach(function(a){"name"!==a&&"category"!==a&&(e.inputRefs[a].current.value=t[a])});var a={category:this.props.selected_category,name:this.props.selected_location,address:t.address,lat:t.lat,lng:t.lng};this.props.updateLocationInput(a),this.formFilled=!0}},{key:"setCoords",value:function(){var e=this.getLocationInputs(),t=this.inputRefs.lat.current.value,a=this.inputRefs.lng.current.value,n=new RegExp(/^[-|+]?[0-9]*\.?[0-9]+$/g),o=t.match(n),r=a.match(n);o&&r?t===e.lat&&a===e.lng||(e.lat=t,e.lng=a,this.props.updateLocationInput(e)):(h.b.error("Coordinates must be valid numbers"),setTimeout(function(){h.b.info("Press 'SET' to revalidate")},500),o||(this.inputRefs.lat.current.classList.add("input-error"),this.inputRefs.lat.current.focus()),r||(this.inputRefs.lng.current.classList.add("input-error"),o&&this.inputRefs.lng.current.focus()))}},{key:"updateCoords",value:function(){this.inputRefs.lat.current.value=this.props.input_location.lat,this.inputRefs.lng.current.value=this.props.input_location.lng}},{key:"getLocationInputs",value:function(){return{category:this.props.input_location.category,name:this.props.input_location.name,address:this.props.input_location.address,lat:this.props.input_location.lat,lng:this.props.input_location.lng}}},{key:"getGeoCodeFromPlaceId",value:function(e){var t=this;Object(S.geocodeByPlaceId)(e).then(function(e){var a=e[0].geometry.location,n=a.lat(),o=a.lng();t.inputRefs.lat.current.value=n,t.inputRefs.lng.current.value=o,t.inputRefs.lat.current.classList.remove("input-error"),t.inputRefs.lng.current.classList.remove("input-error");var r={category:t.props.input_location.category,name:t.props.input_location.name,address:t.props.input_location.address,lat:n,lng:o};t.props.updateLocationInput(r)}).catch(function(e){return console.error(e)})}},{key:"handleChange",value:function(e){e.target.classList.remove("input-error");var t=this.getLocationInputs();t[e.target.name]=e.target.value,this.props.updateLocationInput(t)}},{key:"handleSelect",value:function(e){this.formAddressContainerRef.current.classList.remove("input-error"),this.getGeoCodeFromPlaceId(e.place_id)}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.getLocationInputs();if(this.formFilled){var n=!1;if(Object.keys(this.props.categories_data.find(function(e){return e.name===a.category}).locations).forEach(function(e){e===a.name&&e!==t.props.selected_location&&(n=!0)}),n)this.inputRefs.name.current.classList.add("input-error"),f()("Location with this name already exists in this category!").then(function(){t.inputRefs.name.current.focus()});else{var o=!1;switch(this.inputRefs.lat.current.value!==a.lat&&(this.inputRefs.lat.current.value=a.lat,o=!0),this.inputRefs.lng.current.value!==a.lng&&(this.inputRefs.lng.current.value=a.lng,o||(o=!0)),this.props.action){case"ADD":this.props.addLocation(a);break;case"EDIT":this.props.editLocation(a)}o?setTimeout(function(){t.props.closeForm(t.formContainerRef)},50):this.props.closeForm(this.formContainerRef)}}else{var r,i,c=!1;Object.keys(a).forEach(function(e,n){a[e]||("address"===e?(i=t.formAddressContainerRef,c=!0):i=t.inputRefs[e],i.current.classList.add("input-error"),r||(r=i))}),h.b.error("Fill all fields first!"),c&&setTimeout(function(){h.b.info("Note that Address is autocomplete only")},500),r.current.focus()}}},{key:"render",value:function(){return l.a.createElement("div",{className:"component-form-container",onMouseDown:this.props.closeForm,ref:this.formContainerRef},l.a.createElement("div",{className:"component-form w-form"},l.a.createElement("form",{className:"component-form-inner",onSubmit:this.handleSubmit},"ADD"===this.props.action&&l.a.createElement("label",{htmlFor:"category",className:"form-field-label"},"Location Category"),"ADD"===this.props.action&&l.a.createElement("select",{"data-name":"category",name:"category",required:"",className:"select-field w-select",onChange:this.handleChange,ref:this.inputRefs.category},l.a.createElement("option",{value:""},"Select category..."),this.props.categories_data.map(function(e,t){return l.a.createElement("option",{value:e.name,key:t},e.name)})),l.a.createElement("label",{htmlFor:"name",className:"form-field-label"},"Location Name"),l.a.createElement("input",{className:"text-field-form w-input",maxLength:"256",name:"name","data-name":"name",placeholder:"My Beach House",type:"text",required:"",autoComplete:"off",onChange:this.handleChange,ref:this.inputRefs.name}),l.a.createElement("label",{htmlFor:"address",className:"form-field-label"},"Location Address"),l.a.createElement("div",{className:"google-places-autocomplete-container",ref:this.formAddressContainerRef},l.a.createElement(L.a,{maxLength:"256",name:"address","data-name":"address",placeholder:"18555 Collins Ave, Sunny Isles Beach, FL",type:"text",required:"",autoComplete:"off",initialValue:this.props.input_location.address,onSelect:this.handleSelect,onChange:this.handleChange,ref:this.inputRefs.address})),l.a.createElement("div",{className:"component-form-coords"},l.a.createElement("div",{className:"component-form-coords-manual"},l.a.createElement("label",{htmlFor:"lat",className:"form-field-label"},"lat"),l.a.createElement("input",{className:"component-form-coords-textfield w-input",maxLength:"256",name:"lat","data-name":"lat",placeholder:"25.761681",type:"text",required:"",autoComplete:"off",ref:this.inputRefs.lat}),l.a.createElement("label",{htmlFor:"lng",className:"form-field-label"},"lng"),l.a.createElement("input",{className:"component-form-coords-textfield w-input",maxLength:"256",name:"lng","data-name":"lng",placeholder:"-80.191788",type:"text",required:"",autoComplete:"off",ref:this.inputRefs.lng}),l.a.createElement("div",{className:"component-form-coords-button","data-tip":"Set the marker position by coordinates",onClick:this.setCoords},"SET")),l.a.createElement("div",{className:"component-form-coords-map"},l.a.createElement(M,{updateCoords:this.updateCoords}))),l.a.createElement("input",{type:"submit","data-wait":"Please wait...",className:"component-form-submit w-button inactive",value:"APPLY",ref:this.formSubmitRef}))),l.a.createElement(T.a,null))}}]),t}(s.Component)),P=Object(b.b)(function(e){return{action:e.operator.action,categories_data:e.data.categories,selected_location:e.data.selected_location,selected_category:e.data.selected_category,input_location:e.data.input_location}},function(e){return{addLocation:function(t){return e(function(e){return{type:"ADD_LOCATION",payload:e}}(t))},editLocation:function(t){return e(function(e){return{type:"EDIT_LOCATION",payload:e}}(t))},updateLocationInput:function(t){return e(_(t))},setLocationDialogState:function(t){return e(N(t))}}})(x),V=(a(171),function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"view-location-dialog"},l.a.createElement("h5",{className:"heading-4"},this.props.selected_location),l.a.createElement("div",{className:"view-location-dialog-buttons"},l.a.createElement("button",{className:"button w-button",onClick:function(){e.props.setViewMode("properties")}},"View Properties"),l.a.createElement("button",{className:"button w-button",onClick:function(){e.props.setViewMode("map")}},"View Map")))}}]),t}(s.Component)),U=Object(b.b)(function(e){return{action:e.operator.action,selected_location:e.data.selected_location}},function(e){return{setViewMode:function(t){return e(O(t))}}})(V),G=(a(397),a(82)),B=a.n(G),Y=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).copyField=a.copyField.bind(Object(m.a)(a)),a.fieldsRefs={address:l.a.createRef(),coordinates:l.a.createRef(),category:l.a.createRef()},a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"copyField",value:function(e){var t=e.target.getAttribute("copy"),a=this.fieldsRefs[t].current.innerText.replace(/\n/g,""),n=document.createElement("input");n.style.opacity="0",n.style["pointer-events"]="none",document.body.appendChild(n),n.value=a,n.focus(),n.select(),document.execCommand("copy"),n.remove(),h.b.info("".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)," copied to clipboard!"),{autoClose:1500})}},{key:"render",value:function(){return l.a.createElement("div",{className:"view-location-properties"},l.a.createElement("h1",{className:"heading-location-viewer"},this.props.data.name),l.a.createElement("div",{className:"seperator-4"}),l.a.createElement("h1",{className:"label"},"Address"),l.a.createElement("div",{className:"property-value-container"},l.a.createElement("img",{src:B.a,onClick:this.copyField,copy:"address",width:"25","data-tip":"Copy",alt:"",className:"image-copy-property"}),l.a.createElement("h1",{className:"heading-location-property",ref:this.fieldsRefs.address},this.props.data.address)),l.a.createElement("h1",{className:"label"},"Coordinates"),l.a.createElement("div",{className:"property-value-container"},l.a.createElement("img",{src:B.a,onClick:this.copyField,copy:"coordinates","data-tip":"Copy",width:"25",alt:"",className:"image-copy-property"}),l.a.createElement("h1",{className:"heading-location-property",ref:this.fieldsRefs.coordinates},l.a.createElement("strong",null,"lat"),":\xa0",this.props.data.position.lat,",\xa0",l.a.createElement("strong",null,"lng"),":",this.props.data.position.lng)),l.a.createElement("h1",{className:"label"},"Category"),l.a.createElement("div",{className:"property-value-container"},l.a.createElement("img",{src:B.a,onClick:this.copyField,copy:"category","data-tip":"Copy",width:"25",alt:"",className:"image-copy-property"}),l.a.createElement("h1",{className:"heading-location-property",ref:this.fieldsRefs.category},this.props.data.category)),l.a.createElement("button",{className:"view-location-properties-button w-button",onClick:this.props.closeForm},"Close"),l.a.createElement(T.a,null))}}]),t}(s.Component),H=a(83),W=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).mapContainerRef=l.a.createRef(),a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mapContainerRef.current.firstChild.style="maxWidth: '435px;'"}},{key:"render",value:function(){return l.a.createElement("div",{className:"view-location-map"},l.a.createElement("h1",{className:"heading-location-viewer"},this.props.data.name),l.a.createElement("div",{className:"seperator-4"}),l.a.createElement("div",{className:"view-location-map-map-container",ref:this.mapContainerRef},l.a.createElement(H.Map,{google:this.props.google,zoom:18,style:{height:"450px",position:"relative"},initialCenter:this.props.data.position},l.a.createElement(H.Marker,{position:this.props.data.position}))),l.a.createElement("button",{className:"view-location-map-button w-button",onClick:this.props.closeForm},"Close"))}}]),t}(s.Component),z=Object(H.GoogleApiWrapper)({apiKey:"AIzaSyB_FOwuZf9hp8EzcKh1Dky70NBETQBO_a8"})(W),q=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).getViewData=a.getViewData.bind(Object(m.a)(a)),a.data=a.getViewData(),a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.setViewMode("dialog")}},{key:"getViewData",value:function(){var e=this,t=this.props.categories_data.find(function(t){return t.name===e.props.ungrouped_category}).locations[this.props.selected_location];return{category:this.props.ungrouped_category,name:this.props.selected_location,address:t.address,position:{lat:t.lat,lng:t.lng}}}},{key:"render",value:function(){return l.a.createElement("div",{className:"view-location-container",onMouseDown:this.props.closeForm},"dialog"===this.props.view_mode&&l.a.createElement(U,null),"properties"===this.props.view_mode&&l.a.createElement(Y,{closeForm:this.props.closeForm,data:this.data}),"map"===this.props.view_mode&&l.a.createElement(z,{closeForm:this.props.closeForm,data:this.data}))}}]),t}(s.Component),J=Object(b.b)(function(e){return{categories_data:e.data.categories,selected_location:e.data.selected_location,ungrouped_category:e.data.ungrouped_category,view_mode:e.data.view_mode}},function(e){return{setViewMode:function(t){return e(O(t))}}})(q),K=a(77),Q=a.n(K),Z=a(78),$=a.n(Z),X=a(79),ee=a.n(X),te=a(80),ae=a.n(te),ne=a(180),oe=a.n(ne),re=(a(410),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).addLocation=a.addLocation.bind(Object(m.a)(a)),a.editLocation=a.editLocation.bind(Object(m.a)(a)),a.removeLocation=a.removeLocation.bind(Object(m.a)(a)),a.disableCurrentAction=a.disableCurrentAction.bind(Object(m.a)(a)),a.ungroupCategory=a.ungroupCategory.bind(Object(m.a)(a)),a.toggleCategory=a.toggleCategory.bind(Object(m.a)(a)),a.colors=["blue","orange","red","purple","green"],a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"addLocation",value:function(){this.props.categories_data.length>0?(this.disableCurrentAction(null,!0),this.props.setAction("ADD")):f()("Before adding a location, please add at least 1 category through the Categories screen")}},{key:"editLocation",value:function(){this.props.locations_count>0?"EDIT"===this.props.action?this.props.setAction(""):(this.disableCurrentAction(null,!0),this.props.setAction("EDIT")):h.b.warn("No locations to edit. Try adding one")}},{key:"removeLocation",value:function(){this.props.locations_count>0?"REMOVE"===this.props.action?this.props.setAction(""):(this.disableCurrentAction(null,!0),this.props.setAction("REMOVE")):h.b.warn("No locations to remove. Try adding one")}},{key:"disableCurrentAction",value:function(e){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||e.target===e.currentTarget)&&(this.props.setAction(""),this.props.setViewMode(""),this.props.setLocationDialogState(!1),this.props.setSelectedLocation(""),this.props.setSelectedCategory(""),this.props.resetLocationInput())}},{key:"ungroupCategory",value:function(e){var t=e.currentTarget.getAttribute("category"),a=Number(e.currentTarget.getAttribute("locations_size"));e.currentTarget.classList.contains("grouped")&&a>0&&this.props.setUngroupedCategory(t)}},{key:"toggleCategory",value:function(e){var t=e.target.getAttribute("category"),a=Number(e.target.getAttribute("locations_size"));this.props.ungrouped_category===t?this.props.setUngroupedCategory(""):e.target.classList.contains("grouped")&&a>0&&this.props.setUngroupedCategory(t)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"locations"},l.a.createElement("div",{className:"component-header"},l.a.createElement("div",{className:"component-header-icon-wrapper"},l.a.createElement("img",{src:Q.a,width:"25",alt:""})),l.a.createElement("h1",{className:"heading-component h1"},"Locations"),l.a.createElement("div",{className:"component-header-right-margin"})),l.a.createElement("div",{className:"seperator-2"}),l.a.createElement("div",{className:"component-toolbar"},l.a.createElement("div",{className:"custom-button ".concat("ADD"===this.props.action?"active":"inactive"),onClick:this.addLocation},l.a.createElement("img",{src:$.a,width:"20",alt:""}),l.a.createElement("h3",{className:"custom-heading"},"Add")),l.a.createElement("div",{className:"custom-button ".concat("EDIT"===this.props.action?"active":"inactive"),onClick:this.editLocation},l.a.createElement("img",{src:ee.a,width:"20",alt:""}),l.a.createElement("h3",{className:"custom-heading"},"Edit")),l.a.createElement("div",{className:"custom-button ".concat("REMOVE"===this.props.action?"active":"inactive"),onClick:this.removeLocation},l.a.createElement("img",{src:ae.a,width:"20",alt:""}),l.a.createElement("h3",{className:"custom-heading"},"Remove"))),l.a.createElement("div",{className:"seperator-3"}),l.a.createElement("div",{className:"locations-list-container"},this.props.categories_data.length>0?this.props.categories_data.map(function(t,a){return l.a.createElement("div",{className:"category ".concat(e.props.ungrouped_category===t.name?"ungrouped":"grouped"),key:a,category:t.name,locations_size:Object.keys(t.locations).length,onClick:e.ungroupCategory},l.a.createElement("div",{className:"category-header ".concat(e.props.ungrouped_category===t.name?"ungrouped":"grouped"),category:t.name,locations_size:Object.keys(t.locations).length,onClick:e.toggleCategory},l.a.createElement("img",{src:oe.a,category:t.name,width:"20",alt:"",className:"image-arrow-".concat(e.props.ungrouped_category===t.name?"ungrouped":"grouped")}),l.a.createElement("h1",{category:t.name,className:"h1 body heading-location-list-item"},"Categoy: ",t.name)),e.props.ungrouped_category===t.name?l.a.createElement("div",{className:"category-body"},Object.keys(t.locations).sort().map(function(a,n){return l.a.createElement(k,{name:a,category:t.name,key:n,color:e.colors[n%e.colors.length]})})):l.a.createElement("h6",{className:"category-item-sub-heading-2"},Object.keys(t.locations).length," locations in this category"))}):l.a.createElement("div",{className:"text-block"},"No categories yet. Go back to the Categories and add one!"),"VIEW"===this.props.action&&l.a.createElement(J,{closeForm:this.disableCurrentAction})),("ADD"===this.props.action||"EDIT"===this.props.action&&this.props.selected_location)&&l.a.createElement(P,{closeForm:this.disableCurrentAction}))}}]),t}(s.Component)),ie=Object(b.b)(function(e){return{action:e.operator.action,categories_data:e.data.categories,selected_location:e.data.selected_location,ungrouped_category:e.data.ungrouped_category,locations_count:e.data.locations_count}},function(e){return{setAction:function(t){return e(E(t))},setUngroupedCategory:function(t){return e({type:"SET_UNGROUPED_CATEGPRY",payload:t})},setSelectedLocation:function(t){return e(C(t))},setSelectedCategory:function(t){return e(v(t))},setLocationDialogState:function(t){return e(N(t))},setViewMode:function(t){return e(O(t))},resetLocationInput:function(){return e({type:"RESET_LOCATION_INPUT"})}}})(re),ce=a(181),se=a.n(ce),le=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).handleCategoryClick=a.handleCategoryClick.bind(Object(m.a)(a)),a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"handleCategoryClick",value:function(){var e=this;if(""!==this.props.action&&(this.props.setSelectedCategory(this.props.name),"REMOVE"===this.props.action)){var t=Object.keys(this.props.categories_data.find(function(t){return t.name===e.props.name}).locations).length,a=t>1?"locatios":"location";t>0?f()({title:"Are you sure?",text:"This category contains ".concat(t," ").concat(a,". \n                        Removing it wiil also remove the ").concat(a,". Proceed?"),dangerMode:!0,buttons:["Cancel","Remove"]}).then(function(t){t&&e.props.removeCategory(e.props.name)}):this.props.removeCategory(this.props.name)}}},{key:"render",value:function(){return l.a.createElement("div",{className:"category ".concat(this.props.is_category_dialog_open?"":"EDIT"===this.props.action?"shaking edit":"REMOVE"===this.props.action?"shaking remove":""),onClick:this.handleCategoryClick},l.a.createElement("div",{className:"category-header"},l.a.createElement("img",{src:se.a,width:"30",alt:""}),l.a.createElement("h1",{className:"heading-category-list-item h1 body"},this.props.name)),l.a.createElement("h6",{className:"category-item-sub-heading"},"Created on: ",this.props.date))}}]),t}(s.Component),pe=Object(b.b)(function(e){return{action:e.operator.action,categories_data:e.data.categories,is_category_dialog_open:e.data.is_category_dialog_open}},function(e){return{removeCategory:function(t){return e(function(e){return{type:"REMOVE_CATEGORY",payload:e}}(t))},setSelectedCategory:function(t){return e(v(t))}}})(le),ue=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).formContainerRef=l.a.createRef(),a.inputRefs={name:l.a.createRef()},a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.formFilled="EDIT"===a.props.action,a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){"EDIT"===this.props.action&&(this.inputRefs.name.current.value=this.props.selected_category),this.props.setCategoryDialogState(!0)}},{key:"handleChange",value:function(e){this.inputRefs.name.current.classList.remove("input-error"),this.props.updateCategoryInput(e.target.value.trim()),this.formFilled=e.target.value&&e.target.value.trim().length>0}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.props.input_category;if(this.formFilled)if(a!==this.props.selected_category)if(this.props.categories_data.find(function(e){return e.name===a}))this.inputRefs.name.current.classList.add("input-error"),f()("Category with this name already exists!").then(function(){t.inputRefs.name.current.focus()});else{switch(this.props.action){case"ADD":this.props.addCategory(a);break;case"EDIT":this.props.editCategory(a)}this.props.closeForm(this.formContainerRef)}else this.props.closeForm(this.formContainerRef);else this.inputRefs.name.current.classList.add("input-error"),h.b.error("Empty input!",{autoClose:1500}),this.inputRefs.name.current.focus()}},{key:"render",value:function(){return l.a.createElement("div",{className:"component-form-container",onMouseDown:this.props.closeForm,ref:this.formContainerRef},l.a.createElement("div",{className:"component-form w-form"},l.a.createElement("form",{className:"component-form-inner",onSubmit:this.handleSubmit},l.a.createElement("label",{htmlFor:"name",className:"form-field-label"},"Category Name"),l.a.createElement("input",{className:"text-field-form w-input",autoFocus:!0,maxLength:"256",name:"name","data-name":"Name",placeholder:'"My Beach Houses"',type:"text",id:"name",required:"",autoComplete:"off",onChange:this.handleChange,ref:this.inputRefs.name}),l.a.createElement("input",{type:"submit","data-wait":"Please wait...",className:"component-form-submit w-button ".concat(this.formFilled?"active":"inactive"),value:"OK"}))))}}]),t}(s.Component),de=Object(b.b)(function(e){return{action:e.operator.action,categories_data:e.data.categories,input_category:e.data.input_category,selected_category:e.data.selected_category}},function(e){return{addCategory:function(t){return e(function(e){return{type:"ADD_CATEGORY",payload:e}}(t))},editCategory:function(t){return e(function(e){return{type:"EDIT_CATEGORY",payload:e}}(t))},updateCategoryInput:function(t){return e(function(e){return{type:"UPDATE_CATEGORY_INPUT",payload:e}}(t))},setCategoryDialogState:function(t){return e(j(t))}}})(ue),me=a(81),he=a.n(me),ge=(a(411),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).addCategory=a.addCategory.bind(Object(m.a)(a)),a.editCategory=a.editCategory.bind(Object(m.a)(a)),a.removeCategory=a.removeCategory.bind(Object(m.a)(a)),a.disableCurrentAction=a.disableCurrentAction.bind(Object(m.a)(a)),a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"addCategory",value:function(){this.disableCurrentAction(null,!0),this.props.setAction("ADD")}},{key:"editCategory",value:function(){this.props.categories_data.length>0?"EDIT"===this.props.action?this.props.setAction(""):(this.disableCurrentAction(null,!0),this.props.setAction("EDIT")):h.b.warn("No categories to edit. Try adding one")}},{key:"removeCategory",value:function(e){this.props.categories_data.length>0?"REMOVE"===this.props.action?this.props.setAction(""):(this.disableCurrentAction(null,!0),this.props.setAction("REMOVE")):h.b.warn("No categories to remove. Try adding one")}},{key:"disableCurrentAction",value:function(e){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||e.target===e.currentTarget)&&(this.props.setAction(""),this.props.setCategoryDialogState(!1),this.props.setSelectedCategory(""),this.props.resetCategoryInput())}},{key:"render",value:function(){return l.a.createElement("div",{className:"categories"},l.a.createElement("div",{className:"component-header"},l.a.createElement("div",{className:"component-header-icon-wrapper"},l.a.createElement("img",{src:he.a,width:"25",alt:""})),l.a.createElement("h1",{className:"heading-component h1"},"Categories"),l.a.createElement("div",{className:"component-header-right-margin"})),l.a.createElement("div",{className:"seperator-2"}),l.a.createElement("div",{className:"component-toolbar"},l.a.createElement("div",{className:"custom-button ".concat("ADD"===this.props.action?"active":"inactive"),onClick:this.addCategory},l.a.createElement("img",{src:$.a,width:"20",alt:""}),l.a.createElement("h3",{className:"custom-heading"},"Add")),l.a.createElement("div",{className:"custom-button ".concat("EDIT"===this.props.action?"active":"inactive"),onClick:this.editCategory},l.a.createElement("img",{src:ee.a,width:"20",alt:""}),l.a.createElement("h3",{className:"custom-heading"},"Edit")),l.a.createElement("div",{className:"custom-button ".concat("REMOVE"===this.props.action?"active":"inactive"),onClick:this.removeCategory},l.a.createElement("img",{src:ae.a,width:"20",alt:""}),l.a.createElement("h3",{className:"custom-heading"},"Remove"))),l.a.createElement("div",{className:"seperator-3"}),l.a.createElement("div",{className:"categories-list-container"},this.props.categories_data.length>0?this.props.categories_data.map(function(e,t){return l.a.createElement(pe,{name:e.name,date:e.date,key:t})}):l.a.createElement("div",{className:"text-block"},"No categories yet. Click the 'Add' button above")),("ADD"===this.props.action||"EDIT"===this.props.action&&this.props.selected_category)&&l.a.createElement(de,{closeForm:this.disableCurrentAction}))}}]),t}(s.Component)),fe=Object(b.b)(function(e){return{action:e.operator.action,categories_data:e.data.categories,selected_category:e.data.selected_category}},function(e){return{setAction:function(t){return e(E(t))},setSelectedCategory:function(t){return e(v(t))},setCategoryDialogState:function(t){return e(j(t))},resetCategoryInput:function(){return e({type:"RESET_CATEGORY_INPUT"})}}})(ge),ye=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).activateScreen=a.activateScreen.bind(Object(m.a)(a)),a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){document.title="myLocations"}},{key:"activateScreen",value:function(e){var t=(e.current||e.currentTarget).getAttribute("screen-ref");t!==this.props.activeScreen&&(this.props.updateActiveScreen(t),""!==this.props.action&&this.props.resetAction())}},{key:"render",value:function(){return l.a.createElement("div",{className:"app-body"},l.a.createElement("div",{className:"ml-container"},l.a.createElement("div",{className:"component-container"},"Categories"===this.props.activeScreen&&l.a.createElement(fe,null),"Locations"===this.props.activeScreen&&l.a.createElement(ie,null)),l.a.createElement("div",{className:"seperator"}),l.a.createElement("div",{className:"bottom-toolbar"},l.a.createElement("div",{className:"bottom-icon-wrapper ".concat("Categories"===this.props.activeScreen?"active":"inactive"),onClick:this.activateScreen,"screen-ref":"Categories"},l.a.createElement("img",{src:he.a,width:"40",alt:"",className:"icon-bottom"}),l.a.createElement("div",{className:"icon-bottom-underline"})),l.a.createElement("div",{className:"bottom-icon-wrapper ".concat("Locations"===this.props.activeScreen?"active":"inactive"),onClick:this.activateScreen,"screen-ref":"Locations"},l.a.createElement("img",{src:Q.a,width:"40",alt:"",className:"icon-bottom"}),l.a.createElement("div",{className:"icon-bottom-underline"})))),l.a.createElement(h.a,{hideProgressBar:!0,autoClose:4500}))}}]),t}(s.Component),be=Object(b.b)(function(e){return{activeScreen:e.operator.activeScreen,action:e.operator.action}},function(e){return{updateActiveScreen:function(t){return e(function(e){return{type:"ACTIVATE_SCREEN",payload:e}}(t))},resetAction:function(){return e({type:"RESET_ACTION"})}}})(ye),Ee=(a(412),a(50)),ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTIVATE_SCREEN":e=Object(D.a)({},e,{activeScreen:t.payload});break;case"SET_ACTION":e=Object(D.a)({},e,{action:t.payload});break;case"RESET_ACTION":e=Object(D.a)({},e,{action:""})}return e},Ce=a(76),Oe=a(182),_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CATEGORY":e=Object(D.a)({},e,{data:[{name:t.payload,locations:{},date:(new Date).toLocaleString()}].concat(Object(Oe.a)(e.data))});break;case"ADD_LOCATION":e=Object(D.a)({},e,{data:e.data.map(function(e){if(e.name===t.payload.category){var a={address:t.payload.address,lat:t.payload.lat,lng:t.payload.lng};return Object(D.a)({},e,{locations:Object(D.a)({},e.locations,Object(Ce.a)({},t.payload.name,a))})}return Object(D.a)({},e)}),locations_count:e.locations_count+1});break;case"EDIT_CATEGORY":e=Object(D.a)({},e,{data:e.data.map(function(a){return Object(D.a)({},a,{name:a.name===e.selected_category?t.payload:a.name})})});break;case"EDIT_LOCATION":e=Object(D.a)({},e,{data:e.data.map(function(a){if(a.name===t.payload.category){var n=Object(D.a)({},a.locations);delete n[e.selected_location],n[t.payload.name]={address:t.payload.address,lat:t.payload.lat,lng:t.payload.lng},a.locations=n}return Object(D.a)({},a)})});break;case"REMOVE_CATEGORY":var a=Object.keys(e.data.find(function(e){return e.name===t.payload}).locations).length;e=Object(D.a)({},e,{data:e.data.filter(function(e){return e.name!==t.payload}),action:1===e.data.length?"":e.action,locations_count:e.locations_count-a});break;case"REMOVE_LOCATION":var n=Object.keys(e.data.find(function(t){return t.name===e.selected_category}).locations).length;e=Object(D.a)({},e,{data:e.data.map(function(t){if(t.name===e.selected_category){var a=Object(D.a)({},t.locations);delete a[e.selected_location],t.locations=a}return Object(D.a)({},t)}),action:1===n?"":e.action,ungrouped_category:1===n?"":e.ungrouped_category,locations_count:e.locations_count-1});break;case"RESET_CATEGORY_INPUT":e=Object(D.a)({},e,{input_category:""});break;case"RESET_LOCATION_INPUT":e=Object(D.a)({},e,{input_location:{}});break;case"SET_SELECTED_CATEGORY":e=Object(D.a)({},e,{selected_category:t.payload});break;case"SET_SELECTED_LOCATION":e=Object(D.a)({},e,{selected_location:t.payload});break;case"SET_UNGROUPED_CATEGPRY":e=Object(D.a)({},e,{ungrouped_category:t.payload});break;case"SET_LOCATION_DIALOG_STATE":e=Object(D.a)({},e,{is_location_dialog_open:t.payload});break;case"SET_CATEGORY_DIALOG_STATE":e=Object(D.a)({},e,{is_category_dialog_open:t.payload});break;case"SET_VIEW_MODE":e=Object(D.a)({},e,{view_mode:t.payload});break;case"UPDATE_CATEGORY_INPUT":e=Object(D.a)({},e,{input_category:t.payload});break;case"UPDATE_LOCATION_INPUT":e=Object(D.a)({},e,{input_location:t.payload});break;case"UPDATE_MAP_POSITION":e=Object(D.a)({},e,{map_position:t.payload});break;case"UPDATE_MAP_ADDRESS":e=Object(D.a)({},e,{map_address:t.payload})}return e},Ne=Object(Ee.b)({operator:ve,data:_e}),je=localStorage.getItem("reduxState")?JSON.parse(localStorage.getItem("reduxState")):{operator:{activeScreen:"Categories",action:""},data:{categories:[{date:"31.7.2019, 17:11:43",locations:{"Delaware Beach House":{address:"51 Baltimore Ave, Rehoboth Beach, DE 19971, USA",lat:38.7171603,lng:-75.0812477},"Lincoln City Beach House":{address:"4567 SW Beach Ave, Lincoln City, OR 97367, USA",lat:44.9319352,lng:-124.02391790000001},"Long Island Beach House":{address:"55 S Elmwood Ave, Montauk, NY 11954, USA",lat:41.0339355,lng:-71.94328710000002},"Miami Beach House":{address:"200 S Biscayne Blvd, Miami, FL 33131, USA",lat:25.7721982,lng:-80.1881477},"Outer Banks Beach House":{address:"42050 Cedar Cir, Avon, NC 27915, USA",lat:35.3305316,lng:-75.50870980000002}},name:"My Beach Houses (Example)"}],locations_count:5,input_category:"",view_mode:"",input_location:{},selected_category:"",selected_location:"",ungrouped_category:"My Beach Houses (Example)",is_category_dialog_open:!1,is_location_dialog_open:!1}},Ae=Object(Ee.c)(Ne,je);Ae.subscribe(function(){localStorage.setItem("reduxState",JSON.stringify(Ae.getState()))});var ke=Ae,Re=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement(d.b,{history:d.c},l.a.createElement(d.a,{path:"/",component:be}))}}]),t}(s.Component);u.a.render(l.a.createElement(b.a,{store:ke},l.a.createElement(Re,null)),document.getElementById("root"))},77:function(e,t,a){e.exports=a.p+"static/media/locations.2077207c.svg"},78:function(e,t,a){e.exports=a.p+"static/media/add.b969e9fc.svg"},79:function(e,t,a){e.exports=a.p+"static/media/edit.a58d3d11.svg"},80:function(e,t,a){e.exports=a.p+"static/media/remove.6690bdd0.svg"},81:function(e,t,a){e.exports=a.p+"static/media/categories.a8fb9acf.svg"},82:function(e,t,a){e.exports=a.p+"static/media/copy.add831dd.svg"}},[[183,1,2]]]);
//# sourceMappingURL=main.aa2f6db8.chunk.js.map