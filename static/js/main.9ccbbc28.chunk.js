(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,a){},172:function(e,t,a){},182:function(e,t,a){e.exports=a.p+"static/media/arrow.cefc206c.svg"},183:function(e,t,a){e.exports=a.p+"static/media/category.92509915.svg"},185:function(e,t,a){e.exports=a(416)},413:function(e,t,a){},414:function(e,t,a){},415:function(e,t,a){},416:function(e,t,a){"use strict";a.r(t);var o=a(5),n=a(6),r=a(8),i=a(7),c=a(9),s=a(0),l=a.n(s),u=a(17),p=a.n(u),d=a(174),m=a.n(d),h=a(84),g=a(37),f=a.n(g),b=a(2),y=a(12),v=a(418),E=a(11);function C(e){return{type:"SET_ACTION",payload:e}}function O(e){return{type:"SET_SELECTED_CATEGORY",payload:e}}function _(e){return{type:"SET_SELECTED_LOCATION",payload:e}}function N(e){return{type:"SET_UNGROUPED_CATEGPRY",payload:e}}function j(e){return{type:"SET_VIEW_MODE",payload:e}}function A(e){return{type:"UPDATE_LOCATION_INPUT",payload:e}}function k(e){return{type:"SET_LOCATION_DIALOG_STATE",payload:e}}function T(e){return{type:"SET_CATEGORY_DIALOG_STATE",payload:e}}var R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).handleLocationClick=a.handleLocationClick.bind(Object(b.a)(a)),a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"handleLocationClick",value:function(){this.props.setSelectedLocation(this.props.name),""!==this.props.action?(this.props.setSelectedCategory(this.props.category),"REMOVE"===this.props.action&&(this.props.removeLocation(this.props.name),1===this.props.locations_count&&(this.props.disableCurrentAction(null,!0),this.props.setUngroupedCategory("")))):(v.a.vibrate(500),this.props.setAction("VIEW"))}},{key:"render",value:function(){return l.a.createElement("h6",{className:"category-item-location ".concat(this.props.color," \n            ").concat(this.props.is_location_dialog_open?"":"EDIT"===this.props.action?"shaking edit":"REMOVE"===this.props.action?"shaking remove":""),onClick:this.handleLocationClick},this.props.name)}}]),t}(s.Component),S=Object(E.b)(function(e){return{action:e.operator.action,is_location_dialog_open:e.data.is_location_dialog_open,locations_count:e.data.locations_count}},function(e){return{setAction:function(t){return e(C(t))},removeLocation:function(t){return e(function(e){return{type:"REMOVE_LOCATION",payload:e}}(t))},setSelectedLocation:function(t){return e(_(t))},setSelectedCategory:function(t){return e(O(t))},setUngroupedCategory:function(t){return e(N(t))}}})(R),L=a(74),w=a.n(L),D=a(75),I=a.n(D),x=a(4),F=a(179),V=a.n(F),M=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(b.a)(a)),a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"handleChange",value:function(e){var t=Object(x.a)({},this.props.input_location);t.address=e.address,t.lat=e.position.lat,t.lng=e.position.lng,this.props.updateLocationInput(t),this.props.updateCoords()}},{key:"render",value:function(){return l.a.createElement(V.a,{containerElement:l.a.createElement("div",{style:{height:"100%"}}),mapElement:l.a.createElement("div",{style:{maxWidth:"450px",height:"173px"}}),defaultPosition:{lat:null,lng:null==this.props.input_location.lng?-80.191788:Number(this.props.input_location.lng)},onChange:this.handleChange})}}]),t}(s.Component),P=Object(E.b)(function(e){return{input_location:e.data.input_location}},function(e){return{updateLocationInput:function(t){return e(A(t))}}})(M),U=(a(116),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).inputRefs={category:l.a.createRef(),name:l.a.createRef(),address:l.a.createRef(),lat:l.a.createRef(),lng:l.a.createRef()},a.formAddressContainerRef=l.a.createRef(),a.formSubmitRef=l.a.createRef(),a.fillControlledElements=a.fillControlledElements.bind(Object(b.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.handleSelect=a.handleSelect.bind(Object(b.a)(a)),a.setCoords=a.setCoords.bind(Object(b.a)(a)),a.updateCoords=a.updateCoords.bind(Object(b.a)(a)),a.getLocationInputs=a.getLocationInputs.bind(Object(b.a)(a)),a.getGeoCodeFromPlaceId=a.getGeoCodeFromPlaceId.bind(Object(b.a)(a)),a.closeForm=a.closeForm.bind(Object(b.a)(a)),a.formFilled=!1,a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){"EDIT"===this.props.action&&(this.fillControlledElements(),this.formSubmitRef.current.classList.remove("inactive")),this.props.setLocationDialogState(!0)}},{key:"componentDidUpdate",value:function(){var e=this.getLocationInputs();this.formFilled=0===Object.keys(e).filter(function(t){return!e[t]||0===e[t].length}).length,this.formFilled?this.formSubmitRef.current.classList.remove("inactive"):this.formSubmitRef.current.classList.add("inactive")}},{key:"fillControlledElements",value:function(){var e=this,t=this.props.categories_data.find(function(t){return t.name===e.props.selected_category}).locations[this.props.selected_location];this.inputRefs.name.current.value=this.props.selected_location,Object.keys(this.inputRefs).forEach(function(a){"name"!==a&&"category"!==a&&(e.inputRefs[a].current.value=t[a])});var a={category:this.props.selected_category,name:this.props.selected_location,address:t.address,lat:t.lat,lng:t.lng};this.props.updateLocationInput(a),this.formFilled=!0}},{key:"setCoords",value:function(){var e=this.getLocationInputs(),t=this.inputRefs.lat.current.value,a=this.inputRefs.lng.current.value,o=new RegExp(/^[-|+]?[0-9]*\.?[0-9]+$/g),n=t.match(o),r=a.match(o);if(n&&r){var i=Number(t),c=Number(a),s=i>=-90&&i<=90,l=c>=-180&&c<=180;s&&l?t===e.lat&&a===e.lng||(this.inputRefs.lat.current.classList.remove("input-error"),this.inputRefs.lng.current.classList.remove("input-error"),e.lat=t,e.lng=a,this.props.updateLocationInput(e)):(s||(y.b.error("Lat should be in the range of [-90, 90]"),this.inputRefs.lat.current.classList.add("input-error"),this.inputRefs.lat.current.focus()),l||(y.b.error("Lng should be in the range of [-180, 180]"),this.inputRefs.lng.current.classList.add("input-error"),s&&this.inputRefs.lng.current.focus()),setTimeout(function(){y.b.info("Press 'SET' to revalidate")},500))}else y.b.error("Coordinates must be valid numbers"),setTimeout(function(){y.b.info("Press 'SET' to revalidate")},500),n||(this.inputRefs.lat.current.classList.add("input-error"),this.inputRefs.lat.current.focus()),r||(this.inputRefs.lng.current.classList.add("input-error"),n&&this.inputRefs.lng.current.focus())}},{key:"updateCoords",value:function(){this.inputRefs.lat.current.classList.remove("input-error"),this.inputRefs.lng.current.classList.remove("input-error"),this.inputRefs.lat.current.value=this.props.input_location.lat,this.inputRefs.lng.current.value=this.props.input_location.lng}},{key:"getLocationInputs",value:function(){return{category:this.props.input_location.category,name:this.props.input_location.name,address:this.props.input_location.address,lat:this.props.input_location.lat,lng:this.props.input_location.lng}}},{key:"getGeoCodeFromPlaceId",value:function(e){var t=this;Object(D.geocodeByPlaceId)(e).then(function(e){var a=e[0].geometry.location,o=a.lat(),n=a.lng();t.inputRefs.lat.current.value=o,t.inputRefs.lng.current.value=n,t.inputRefs.lat.current.classList.remove("input-error"),t.inputRefs.lng.current.classList.remove("input-error");var r={category:t.props.input_location.category,name:t.props.input_location.name,address:t.props.input_location.address,lat:o,lng:n};t.props.updateLocationInput(r)}).catch(function(e){return console.error(e)})}},{key:"handleChange",value:function(e){e.target.classList.remove("input-error");var t=this.getLocationInputs();t[e.target.name]=e.target.value,this.props.updateLocationInput(t)}},{key:"handleSelect",value:function(e){this.formAddressContainerRef.current.classList.remove("input-error"),this.getGeoCodeFromPlaceId(e.place_id)}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.getLocationInputs();if(this.formFilled){var o=!1;if(Object.keys(this.props.categories_data.find(function(e){return e.name===a.category}).locations).forEach(function(e){e===a.name&&e!==t.props.selected_location&&(o=!0)}),o)this.inputRefs.name.current.classList.add("input-error"),y.b.error("Location with this name already exists in this category!"),this.inputRefs.name.current.focus();else{var n=!1;switch(this.inputRefs.lat.current.value!==a.lat&&(this.inputRefs.lat.current.value=a.lat,n=!0),this.inputRefs.lng.current.value!==a.lng&&(this.inputRefs.lng.current.value=a.lng,n||(n=!0)),this.props.action){case"ADD":this.props.addLocation(a);break;case"EDIT":this.props.editLocation(a)}n?setTimeout(function(){t.closeForm()},50):this.closeForm()}}else{var r,i,c=!1;Object.keys(a).forEach(function(e,o){a[e]||("address"===e?(i=t.formAddressContainerRef,c=!0):i=t.inputRefs[e],i.current.classList.add("input-error"),r||(r=i))}),y.b.error("Fill all fields first!"),c&&setTimeout(function(){y.b.info("Note that Address is autocomplete only")},500),r.current.focus()}}},{key:"closeForm",value:function(){this.props.closeForm(null,!0)}},{key:"render",value:function(){return l.a.createElement("div",{className:"component-form-container",onMouseDown:this.props.closeForm},l.a.createElement("div",{className:"component-form w-form"},l.a.createElement("form",{className:"component-form-inner",onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-x-button-container"},l.a.createElement("h4",{className:"form-x-button",onClick:this.closeForm},"\u2716")),"ADD"===this.props.action&&l.a.createElement("label",{htmlFor:"category",className:"form-field-label"},"Location Category"),"ADD"===this.props.action&&l.a.createElement("select",{"data-name":"category",name:"category",required:"",className:"select-field w-select",onChange:this.handleChange,ref:this.inputRefs.category},l.a.createElement("option",{value:""},"Select category..."),this.props.categories_data.map(function(e,t){return l.a.createElement("option",{value:e.name,key:t},e.name)})),l.a.createElement("label",{htmlFor:"name",className:"form-field-label"},"Location Name"),l.a.createElement("input",{className:"text-field-form w-input",maxLength:"256",name:"name","data-name":"name",placeholder:"My Beach House",type:"text",required:"",autoComplete:"off",onChange:this.handleChange,ref:this.inputRefs.name}),l.a.createElement("label",{htmlFor:"address",className:"form-field-label"},"Location Address"),l.a.createElement("div",{className:"google-places-autocomplete-container",ref:this.formAddressContainerRef},l.a.createElement(I.a,{maxLength:"256",name:"address","data-name":"address",placeholder:"18555 Collins Ave, Sunny Isles Beach, FL",type:"text",required:"",autoComplete:"off",initialValue:this.props.input_location.address,onSelect:this.handleSelect,onChange:this.handleChange,ref:this.inputRefs.address})),l.a.createElement("div",{className:"component-form-coords"},l.a.createElement("div",{className:"component-form-coords-manual"},l.a.createElement("label",{htmlFor:"lat",className:"form-field-label"},"lat"),l.a.createElement("input",{className:"component-form-coords-textfield w-input",maxLength:"256",name:"lat","data-name":"lat",placeholder:"25.761681",type:"text",required:"",autoComplete:"off",ref:this.inputRefs.lat}),l.a.createElement("label",{htmlFor:"lng",className:"form-field-label"},"lng"),l.a.createElement("input",{className:"component-form-coords-textfield w-input",maxLength:"256",name:"lng","data-name":"lng",placeholder:"-80.191788",type:"text",required:"",autoComplete:"off",ref:this.inputRefs.lng}),l.a.createElement("div",{className:"component-form-coords-button","data-tip":"Set the marker position by coordinates",onClick:this.setCoords},"SET")),l.a.createElement("div",{className:"component-form-coords-map"},l.a.createElement(P,{updateCoords:this.updateCoords}))),l.a.createElement("input",{type:"submit","data-wait":"Please wait...",className:"component-form-submit w-button inactive",value:"APPLY",ref:this.formSubmitRef}))),l.a.createElement(w.a,null))}}]),t}(s.Component)),G=Object(E.b)(function(e){return{action:e.operator.action,categories_data:e.data.categories,selected_location:e.data.selected_location,selected_category:e.data.selected_category,input_location:e.data.input_location}},function(e){return{addLocation:function(t){return e(function(e){return{type:"ADD_LOCATION",payload:e}}(t))},editLocation:function(t){return e(function(e){return{type:"EDIT_LOCATION",payload:e}}(t))},updateLocationInput:function(t){return e(A(t))},setLocationDialogState:function(t){return e(k(t))}}})(U),B=(a(172),function(e){function t(){return Object(o.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"view-location-dialog"},l.a.createElement("div",{className:"viewer-dialog-x-button-container"},l.a.createElement("h4",{className:"viewer-dialog-x-button",onClick:this.props.closeViewer},"\u2716")),l.a.createElement("h5",{className:"heading-4"},this.props.selected_location),l.a.createElement("div",{className:"view-location-dialog-buttons"},l.a.createElement("button",{className:"button w-button",onClick:function(){e.props.setViewMode("properties")}},"View Properties"),l.a.createElement("button",{className:"button w-button",onClick:function(){e.props.setViewMode("map")}},"View Map")))}}]),t}(s.Component)),Y=Object(E.b)(function(e){return{action:e.operator.action,selected_location:e.data.selected_location}},function(e){return{setViewMode:function(t){return e(j(t))}}})(B),H=(a(400),a(82)),W=a.n(H),z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).copyField=a.copyField.bind(Object(b.a)(a)),a.fieldsRefs={address:l.a.createRef(),coordinates:l.a.createRef(),category:l.a.createRef()},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"copyField",value:function(e){var t=e.target.getAttribute("copy"),a=this.fieldsRefs[t].current.innerText.replace(/\n/g,""),o=document.createElement("input");o.style.opacity="0",o.style["pointer-events"]="none",document.body.appendChild(o),o.value=a,o.focus(),o.select(),document.execCommand("copy"),o.remove(),y.b.info("".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)," copied to clipboard!"),{autoClose:1500})}},{key:"render",value:function(){return l.a.createElement("div",{className:"view-location-properties"},l.a.createElement("h1",{className:"heading-location-viewer"},this.props.data.name),l.a.createElement("div",{className:"seperator-4"}),l.a.createElement("h1",{className:"label"},"Address"),l.a.createElement("div",{className:"property-value-container"},l.a.createElement("img",{src:W.a,onClick:this.copyField,copy:"address",width:"25","data-tip":"Copy",alt:"",className:"image-copy-property"}),l.a.createElement("h1",{className:"heading-location-property",ref:this.fieldsRefs.address},this.props.data.address)),l.a.createElement("h1",{className:"label"},"Coordinates"),l.a.createElement("div",{className:"property-value-container"},l.a.createElement("img",{src:W.a,onClick:this.copyField,copy:"coordinates","data-tip":"Copy",width:"25",alt:"",className:"image-copy-property"}),l.a.createElement("h1",{className:"heading-location-property",ref:this.fieldsRefs.coordinates},l.a.createElement("strong",null,"lat"),":\xa0",this.props.data.position.lat,",\xa0",l.a.createElement("strong",null,"lng"),":",this.props.data.position.lng)),l.a.createElement("h1",{className:"label"},"Category"),l.a.createElement("div",{className:"property-value-container"},l.a.createElement("img",{src:W.a,onClick:this.copyField,copy:"category","data-tip":"Copy",width:"25",alt:"",className:"image-copy-property"}),l.a.createElement("h1",{className:"heading-location-property",ref:this.fieldsRefs.category},this.props.data.category)),l.a.createElement("button",{className:"view-location-properties-button w-button",onClick:this.props.closeViewer},"Close"),l.a.createElement(w.a,null))}}]),t}(s.Component),q=a(83),J=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).mapContainerRef=l.a.createRef(),a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this.mapContainerRef.current.firstChild.style="maxWidth: '435px;'"}},{key:"render",value:function(){return l.a.createElement("div",{className:"view-location-map"},l.a.createElement("h1",{className:"heading-location-viewer"},this.props.data.name),l.a.createElement("div",{className:"seperator-4"}),l.a.createElement("div",{className:"view-location-map-map-container",ref:this.mapContainerRef},l.a.createElement(q.Map,{google:this.props.google,zoom:18,style:{height:"450px",position:"relative"},initialCenter:this.props.data.position},l.a.createElement(q.Marker,{position:this.props.data.position}))),l.a.createElement("button",{className:"view-location-map-button w-button",onClick:this.props.closeViewer},"Close"))}}]),t}(s.Component),K=Object(q.GoogleApiWrapper)({apiKey:"AIzaSyB_FOwuZf9hp8EzcKh1Dky70NBETQBO_a8"})(J),Q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).getViewData=a.getViewData.bind(Object(b.a)(a)),a.data=a.getViewData(),a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this.props.setViewMode("dialog")}},{key:"getViewData",value:function(){var e=this,t=this.props.categories_data.find(function(t){return t.name===e.props.ungrouped_category}).locations[this.props.selected_location];return{category:this.props.ungrouped_category,name:this.props.selected_location,address:t.address,position:{lat:t.lat,lng:t.lng}}}},{key:"render",value:function(){return l.a.createElement("div",{className:"view-location-container",onMouseDown:this.props.closeViewer},"dialog"===this.props.view_mode&&l.a.createElement(Y,{closeViewer:this.props.closeViewer}),"properties"===this.props.view_mode&&l.a.createElement(z,{closeViewer:this.props.closeViewer,data:this.data}),"map"===this.props.view_mode&&l.a.createElement(K,{closeViewer:this.props.closeViewer,data:this.data}))}}]),t}(s.Component),Z=Object(E.b)(function(e){return{categories_data:e.data.categories,selected_location:e.data.selected_location,ungrouped_category:e.data.ungrouped_category,view_mode:e.data.view_mode}},function(e){return{setViewMode:function(t){return e(j(t))}}})(Q),$=a(77),X=a.n($),ee=a(78),te=a.n(ee),ae=a(79),oe=a.n(ae),ne=a(80),re=a.n(ne),ie=a(182),ce=a.n(ie),se=(a(413),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).addLocation=a.addLocation.bind(Object(b.a)(a)),a.editLocation=a.editLocation.bind(Object(b.a)(a)),a.removeLocation=a.removeLocation.bind(Object(b.a)(a)),a.disableCurrentAction=a.disableCurrentAction.bind(Object(b.a)(a)),a.ungroupCategory=a.ungroupCategory.bind(Object(b.a)(a)),a.toggleCategory=a.toggleCategory.bind(Object(b.a)(a)),a.colors=["blue","orange","red","purple","green"],a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"addLocation",value:function(){this.props.categories_data.length>0?(this.disableCurrentAction(null,!0),this.props.setAction("ADD")):f()("Before adding a location, please add at least 1 category through the Categories screen")}},{key:"editLocation",value:function(){this.props.locations_count>0?"EDIT"===this.props.action?this.props.setAction(""):(this.disableCurrentAction(null,!0),this.props.setAction("EDIT")):y.b.warn("No locations to edit. Try adding one")}},{key:"removeLocation",value:function(){this.props.locations_count>0?"REMOVE"===this.props.action?this.props.setAction(""):(this.disableCurrentAction(null,!0),this.props.setAction("REMOVE")):y.b.warn("No locations to remove. Try adding one")}},{key:"disableCurrentAction",value:function(e){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||e.target===e.currentTarget)&&(this.props.setAction(""),this.props.setViewMode(""),this.props.setLocationDialogState(!1),this.props.setSelectedLocation(""),this.props.setSelectedCategory(""),this.props.resetLocationInput())}},{key:"ungroupCategory",value:function(e){var t=e.currentTarget.getAttribute("category"),a=Number(e.currentTarget.getAttribute("locations_size"));e.currentTarget.classList.contains("grouped")&&a>0&&this.props.setUngroupedCategory(t)}},{key:"toggleCategory",value:function(e){var t=e.target.getAttribute("category"),a=Number(e.target.getAttribute("locations_size"));this.props.ungrouped_category===t?this.props.setUngroupedCategory(""):e.target.classList.contains("grouped")&&a>0&&this.props.setUngroupedCategory(t)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"locations"},l.a.createElement("div",{className:"component-header"},l.a.createElement("div",{className:"component-header-icon-wrapper"},l.a.createElement("img",{src:X.a,width:"25",alt:""})),l.a.createElement("h1",{className:"heading-component h1"},"Locations"),l.a.createElement("div",{className:"component-header-right-margin"})),l.a.createElement("div",{className:"seperator-2"}),l.a.createElement("div",{className:"component-toolbar"},l.a.createElement("div",{className:"custom-button ".concat("ADD"===this.props.action?"active":"inactive"),onClick:this.addLocation},l.a.createElement("img",{src:te.a,width:"20",alt:""}),l.a.createElement("h3",{className:"custom-heading"},"Add")),l.a.createElement("div",{className:"custom-button ".concat("EDIT"===this.props.action?"active":"inactive"),onClick:this.editLocation},l.a.createElement("img",{src:oe.a,width:"20",alt:""}),l.a.createElement("h3",{className:"custom-heading"},"Edit")),l.a.createElement("div",{className:"custom-button ".concat("REMOVE"===this.props.action?"active":"inactive"),onClick:this.removeLocation},l.a.createElement("img",{src:re.a,width:"20",alt:""}),l.a.createElement("h3",{className:"custom-heading"},"Remove"))),l.a.createElement("div",{className:"seperator-3"}),l.a.createElement("div",{className:"locations-list-container"},this.props.categories_data.length>0?this.props.categories_data.map(function(t,a){return l.a.createElement("div",{className:"category ".concat(e.props.ungrouped_category===t.name?"ungrouped":"grouped"),key:a,category:t.name,locations_size:Object.keys(t.locations).length,onClick:e.ungroupCategory},l.a.createElement("div",{className:"category-header ".concat(e.props.ungrouped_category===t.name?"ungrouped":"grouped"),category:t.name,locations_size:Object.keys(t.locations).length,onClick:e.toggleCategory},l.a.createElement("img",{src:ce.a,category:t.name,width:"20",alt:"",className:"image-arrow-".concat(e.props.ungrouped_category===t.name?"ungrouped":"grouped")}),l.a.createElement("h1",{category:t.name,className:"h1 body heading-location-list-item"},"Categoy: ",t.name)),e.props.ungrouped_category===t.name?l.a.createElement("div",{className:"category-body"},Object.keys(t.locations).sort().map(function(a,o){return l.a.createElement(S,{name:a,category:t.name,key:o,color:e.colors[o%e.colors.length],disableCurrentAction:e.disableCurrentAction})})):l.a.createElement("h6",{className:"category-item-sub-heading-2"},Object.keys(t.locations).length," locations in this category"))}):l.a.createElement("div",{className:"text-block"},"No categories yet. Go back to the Categories and add one!"),"VIEW"===this.props.action&&l.a.createElement(Z,{closeViewer:this.disableCurrentAction})),("ADD"===this.props.action||"EDIT"===this.props.action&&this.props.selected_location)&&l.a.createElement(G,{closeForm:this.disableCurrentAction}))}}]),t}(s.Component)),le=Object(E.b)(function(e){return{action:e.operator.action,categories_data:e.data.categories,selected_location:e.data.selected_location,ungrouped_category:e.data.ungrouped_category,locations_count:e.data.locations_count}},function(e){return{setAction:function(t){return e(C(t))},setUngroupedCategory:function(t){return e(N(t))},setSelectedLocation:function(t){return e(_(t))},setSelectedCategory:function(t){return e(O(t))},setLocationDialogState:function(t){return e(k(t))},setViewMode:function(t){return e(j(t))},resetLocationInput:function(){return e({type:"RESET_LOCATION_INPUT"})}}})(se),ue=a(183),pe=a.n(ue),de=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).handleCategoryClick=a.handleCategoryClick.bind(Object(b.a)(a)),a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"handleCategoryClick",value:function(){var e=this;if(""!==this.props.action&&(this.props.setSelectedCategory(this.props.name),"REMOVE"===this.props.action)){var t=function(){1===e.props.categories_data.length&&e.props.disableCurrentAction(null,!0),e.props.removeCategory(e.props.name)},a=Object.keys(this.props.categories_data.find(function(t){return t.name===e.props.name}).locations).length,o=a>1?"locatios":"location";a>0?f()({title:"Are you sure?",text:"This category contains ".concat(a," ").concat(o,". \n                        Removing it wiil also remove the ").concat(o,". Proceed?"),dangerMode:!0,buttons:["Cancel","Remove"]}).then(function(e){e&&t()}):t()}}},{key:"render",value:function(){return l.a.createElement("div",{className:"category ".concat(this.props.is_category_dialog_open?"":"EDIT"===this.props.action?"shaking edit":"REMOVE"===this.props.action?"shaking remove":""),onClick:this.handleCategoryClick},l.a.createElement("div",{className:"category-header"},l.a.createElement("img",{src:pe.a,width:"30",alt:""}),l.a.createElement("h1",{className:"heading-category-list-item h1 body"},this.props.name)),l.a.createElement("h6",{className:"category-item-sub-heading"},"Created on: ",this.props.date))}}]),t}(s.Component),me=Object(E.b)(function(e){return{action:e.operator.action,categories_data:e.data.categories,is_category_dialog_open:e.data.is_category_dialog_open}},function(e){return{removeCategory:function(t){return e(function(e){return{type:"REMOVE_CATEGORY",payload:e}}(t))},setSelectedCategory:function(t){return e(O(t))}}})(de),he=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).inputRefs={name:l.a.createRef()},a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.closeForm=a.closeForm.bind(Object(b.a)(a)),a.formFilled="EDIT"===a.props.action,a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){"EDIT"===this.props.action&&(this.inputRefs.name.current.value=this.props.selected_category),this.props.setCategoryDialogState(!0)}},{key:"handleChange",value:function(e){this.inputRefs.name.current.classList.remove("input-error"),this.props.updateCategoryInput(e.target.value.trim()),this.formFilled=e.target.value&&e.target.value.trim().length>0}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props.input_category||this.props.selected_category;if(this.formFilled)if(t!==this.props.selected_category)if(this.props.categories_data.find(function(e){return e.name===t}))this.inputRefs.name.current.classList.add("input-error"),y.b.error("Category with this name already exists!"),this.inputRefs.name.current.focus();else{switch(this.props.action){case"ADD":this.props.addCategory(t);break;case"EDIT":this.props.editCategory(t)}this.closeForm()}else this.closeForm();else this.inputRefs.name.current.classList.add("input-error"),y.b.error("Empty input!",{autoClose:1500}),this.inputRefs.name.current.focus()}},{key:"closeForm",value:function(){this.props.closeForm(null,!0)}},{key:"render",value:function(){return l.a.createElement("div",{className:"component-form-container",onMouseDown:this.props.closeForm},l.a.createElement("div",{className:"component-form w-form"},l.a.createElement("form",{className:"component-form-inner",onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-x-button-container"},l.a.createElement("h4",{className:"form-x-button",onClick:this.closeForm},"\u2716")),l.a.createElement("label",{htmlFor:"name",className:"form-field-label"},"Category Name"),l.a.createElement("input",{className:"text-field-form w-input",autoFocus:!0,maxLength:"256",name:"name","data-name":"Name",placeholder:'"My Beach Houses"',type:"text",id:"name",required:"",autoComplete:"off",onChange:this.handleChange,ref:this.inputRefs.name}),l.a.createElement("input",{type:"submit","data-wait":"Please wait...",className:"component-form-submit w-button ".concat(this.formFilled?"active":"inactive"),value:"OK"}))))}}]),t}(s.Component),ge=Object(E.b)(function(e){return{action:e.operator.action,categories_data:e.data.categories,input_category:e.data.input_category,selected_category:e.data.selected_category}},function(e){return{addCategory:function(t){return e(function(e){return{type:"ADD_CATEGORY",payload:e}}(t))},editCategory:function(t){return e(function(e){return{type:"EDIT_CATEGORY",payload:e}}(t))},updateCategoryInput:function(t){return e(function(e){return{type:"UPDATE_CATEGORY_INPUT",payload:e}}(t))},setCategoryDialogState:function(t){return e(T(t))}}})(he),fe=a(81),be=a.n(fe),ye=(a(414),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).addCategory=a.addCategory.bind(Object(b.a)(a)),a.editCategory=a.editCategory.bind(Object(b.a)(a)),a.removeCategory=a.removeCategory.bind(Object(b.a)(a)),a.disableCurrentAction=a.disableCurrentAction.bind(Object(b.a)(a)),a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"addCategory",value:function(){this.disableCurrentAction(null,!0),this.props.setAction("ADD")}},{key:"editCategory",value:function(){this.props.categories_data.length>0?"EDIT"===this.props.action?this.props.setAction(""):(this.disableCurrentAction(null,!0),this.props.setAction("EDIT")):y.b.warn("No categories to edit. Try adding one")}},{key:"removeCategory",value:function(e){this.props.categories_data.length>0?"REMOVE"===this.props.action?this.props.setAction(""):(this.disableCurrentAction(null,!0),this.props.setAction("REMOVE")):y.b.warn("No categories to remove. Try adding one")}},{key:"disableCurrentAction",value:function(e){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||e.target===e.currentTarget)&&(this.props.setAction(""),this.props.setCategoryDialogState(!1),this.props.setSelectedCategory(""),this.props.resetCategoryInput())}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"categories"},l.a.createElement("div",{className:"component-header"},l.a.createElement("div",{className:"component-header-icon-wrapper"},l.a.createElement("img",{src:be.a,width:"25",alt:""})),l.a.createElement("h1",{className:"heading-component h1"},"Categories"),l.a.createElement("div",{className:"component-header-right-margin"})),l.a.createElement("div",{className:"seperator-2"}),l.a.createElement("div",{className:"component-toolbar"},l.a.createElement("div",{className:"custom-button ".concat("ADD"===this.props.action?"active":"inactive"),onClick:this.addCategory},l.a.createElement("img",{src:te.a,width:"20",alt:""}),l.a.createElement("h3",{className:"custom-heading"},"Add")),l.a.createElement("div",{className:"custom-button ".concat("EDIT"===this.props.action?"active":"inactive"),onClick:this.editCategory},l.a.createElement("img",{src:oe.a,width:"20",alt:""}),l.a.createElement("h3",{className:"custom-heading"},"Edit")),l.a.createElement("div",{className:"custom-button ".concat("REMOVE"===this.props.action?"active":"inactive"),onClick:this.removeCategory},l.a.createElement("img",{src:re.a,width:"20",alt:""}),l.a.createElement("h3",{className:"custom-heading"},"Remove"))),l.a.createElement("div",{className:"seperator-3"}),l.a.createElement("div",{className:"categories-list-container"},this.props.categories_data.length>0?this.props.categories_data.map(function(t,a){return l.a.createElement(me,{name:t.name,date:t.date,key:a,disableCurrentAction:e.disableCurrentAction})}):l.a.createElement("div",{className:"text-block"},"No categories yet. Click the 'Add' button above")),("ADD"===this.props.action||"EDIT"===this.props.action&&this.props.selected_category)&&l.a.createElement(ge,{closeForm:this.disableCurrentAction}))}}]),t}(s.Component)),ve=Object(E.b)(function(e){return{action:e.operator.action,categories_data:e.data.categories,selected_category:e.data.selected_category}},function(e){return{setAction:function(t){return e(C(t))},setSelectedCategory:function(t){return e(O(t))},setCategoryDialogState:function(t){return e(T(t))},resetCategoryInput:function(){return e({type:"RESET_CATEGORY_INPUT"})}}})(ye),Ee=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).activateScreen=a.activateScreen.bind(Object(b.a)(a)),a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){document.title="myLocations"}},{key:"activateScreen",value:function(e){var t=(e.current||e.currentTarget).getAttribute("screen-ref");t!==this.props.activeScreen&&(this.props.updateActiveScreen(t),""!==this.props.action&&this.props.resetAction())}},{key:"render",value:function(){return l.a.createElement("div",{className:"app-body"},l.a.createElement("div",{className:"ml-container"},l.a.createElement("div",{className:"component-container"},"Categories"===this.props.activeScreen&&l.a.createElement(ve,null),"Locations"===this.props.activeScreen&&l.a.createElement(le,null)),l.a.createElement("div",{className:"seperator"}),l.a.createElement("div",{className:"bottom-toolbar"},l.a.createElement("div",{className:"bottom-icon-wrapper ".concat("Categories"===this.props.activeScreen?"active":"inactive"),onClick:this.activateScreen,"screen-ref":"Categories"},l.a.createElement("img",{src:be.a,width:"40",alt:"",className:"icon-bottom"}),l.a.createElement("div",{className:"icon-bottom-underline"})),l.a.createElement("div",{className:"bottom-icon-wrapper ".concat("Locations"===this.props.activeScreen?"active":"inactive"),onClick:this.activateScreen,"screen-ref":"Locations"},l.a.createElement("img",{src:X.a,width:"40",alt:"",className:"icon-bottom"}),l.a.createElement("div",{className:"icon-bottom-underline"})))),l.a.createElement(y.a,{hideProgressBar:!0,autoClose:4500}))}}]),t}(s.Component),Ce=Object(E.b)(function(e){return{activeScreen:e.operator.activeScreen,action:e.operator.action}},function(e){return{updateActiveScreen:function(t){return e(function(e){return{type:"ACTIVATE_SCREEN",payload:e}}(t))},resetAction:function(){return e({type:"RESET_ACTION"})}}})(Ee),Oe=(a(415),a(50)),_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTIVATE_SCREEN":e=Object(x.a)({},e,{activeScreen:t.payload});break;case"SET_ACTION":e=Object(x.a)({},e,{action:t.payload});break;case"RESET_ACTION":e=Object(x.a)({},e,{action:""})}return e},Ne=a(76),je=a(184),Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CATEGORY":e=Object(x.a)({},e,{categories:[{name:t.payload,locations:{},date:(new Date).toLocaleString()}].concat(Object(je.a)(e.categories))});break;case"ADD_LOCATION":e=Object(x.a)({},e,{categories:e.categories.map(function(e){if(e.name===t.payload.category){var a={address:t.payload.address,lat:t.payload.lat,lng:t.payload.lng};return Object(x.a)({},e,{locations:Object(x.a)({},e.locations,Object(Ne.a)({},t.payload.name,a))})}return Object(x.a)({},e)}),locations_count:e.locations_count+1});break;case"EDIT_CATEGORY":e=Object(x.a)({},e,{categories:e.categories.map(function(a){return Object(x.a)({},a,{name:a.name===e.selected_category?t.payload:a.name})})});break;case"EDIT_LOCATION":e=Object(x.a)({},e,{categories:e.categories.map(function(a){if(a.name===t.payload.category){var o=Object(x.a)({},a.locations);delete o[e.selected_location],o[t.payload.name]={address:t.payload.address,lat:t.payload.lat,lng:t.payload.lng},a.locations=o}return Object(x.a)({},a)})});break;case"REMOVE_CATEGORY":var a=Object.keys(e.categories.find(function(e){return e.name===t.payload}).locations).length;e=Object(x.a)({},e,{categories:e.categories.filter(function(e){return e.name!==t.payload}),locations_count:e.locations_count-a});break;case"REMOVE_LOCATION":e=Object(x.a)({},e,{categories:e.categories.map(function(t){if(t.name===e.selected_category){var a=Object(x.a)({},t.locations);delete a[e.selected_location],t.locations=a}return Object(x.a)({},t)}),locations_count:e.locations_count-1});break;case"RESET_CATEGORY_INPUT":e=Object(x.a)({},e,{input_category:""});break;case"RESET_LOCATION_INPUT":e=Object(x.a)({},e,{input_location:{}});break;case"SET_SELECTED_CATEGORY":e=Object(x.a)({},e,{selected_category:t.payload});break;case"SET_SELECTED_LOCATION":e=Object(x.a)({},e,{selected_location:t.payload});break;case"SET_UNGROUPED_CATEGPRY":e=Object(x.a)({},e,{ungrouped_category:t.payload});break;case"SET_LOCATION_DIALOG_STATE":e=Object(x.a)({},e,{is_location_dialog_open:t.payload});break;case"SET_CATEGORY_DIALOG_STATE":e=Object(x.a)({},e,{is_category_dialog_open:t.payload});break;case"SET_VIEW_MODE":e=Object(x.a)({},e,{view_mode:t.payload});break;case"UPDATE_CATEGORY_INPUT":e=Object(x.a)({},e,{input_category:t.payload});break;case"UPDATE_LOCATION_INPUT":e=Object(x.a)({},e,{input_location:t.payload});break;case"UPDATE_MAP_POSITION":e=Object(x.a)({},e,{map_position:t.payload});break;case"UPDATE_MAP_ADDRESS":e=Object(x.a)({},e,{map_address:t.payload})}return e},ke=Object(Oe.b)({operator:_e,data:Ae}),Te={operator:{activeScreen:"Categories",action:""},data:{categories:[{date:"31.7.2019, 17:11:43",locations:{"Delaware Beach House":{address:"51 Baltimore Ave, Rehoboth Beach, DE 19971, USA",lat:38.7171603,lng:-75.0812477},"Lincoln City Beach House":{address:"4567 SW Beach Ave, Lincoln City, OR 97367, USA",lat:44.9319352,lng:-124.02391790000001},"Long Island Beach House":{address:"55 S Elmwood Ave, Montauk, NY 11954, USA",lat:41.0339355,lng:-71.94328710000002},"Miami Beach House":{address:"200 S Biscayne Blvd, Miami, FL 33131, USA",lat:25.7721982,lng:-80.1881477},"Outer Banks Beach House":{address:"42050 Cedar Cir, Avon, NC 27915, USA",lat:35.3305316,lng:-75.50870980000002}},name:"My Beach Houses (Example)"}],locations_count:5,input_category:"",view_mode:"",input_location:{},selected_category:"",selected_location:"",ungrouped_category:"My Beach Houses (Example)",is_category_dialog_open:!1,is_location_dialog_open:!1}},Re=localStorage.getItem("reduxState")?JSON.parse(localStorage.getItem("reduxState")):Te,Se=Object(Oe.c)(ke,Re);Se.subscribe(function(){localStorage.setItem("reduxState",JSON.stringify(Se.getState()))});var Le=function(e){function t(){return Object(o.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return l.a.createElement(h.b,{history:h.c},l.a.createElement(m.a,{onError:we},l.a.createElement(h.a,{path:"/",component:Ce})))}}]),t}(s.Component),we=function(e,t){localStorage.setItem("reduxState",JSON.stringify(Te)),f()("Unfortunately the application has crashed. Local storage was restored to its initial state")};p.a.render(l.a.createElement(E.a,{store:Se},l.a.createElement(Le,null)),document.getElementById("root"))},77:function(e,t,a){e.exports=a.p+"static/media/locations.2077207c.svg"},78:function(e,t,a){e.exports=a.p+"static/media/add.b969e9fc.svg"},79:function(e,t,a){e.exports=a.p+"static/media/edit.a58d3d11.svg"},80:function(e,t,a){e.exports=a.p+"static/media/remove.6690bdd0.svg"},81:function(e,t,a){e.exports=a.p+"static/media/categories.a8fb9acf.svg"},82:function(e,t,a){e.exports=a.p+"static/media/copy.add831dd.svg"}},[[185,1,2]]]);
//# sourceMappingURL=main.9ccbbc28.chunk.js.map